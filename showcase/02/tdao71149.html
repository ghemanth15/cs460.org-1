<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>CS460 Assignment 2</title>
    <style>
      body {
        background-color: black;
        color: white; /* font color */
        font-family: sans-serif;
        overflow: hidden !important;
      }

      #logo {
        position: absolute;
        right: 10px;
        top: 10px;
      }
    </style>
    <script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script>

    <script type="text/javascript">

    window.onload = function() {

      // Create a 3D render

      r = new X.renderer3D();
      r. init();

      // Take the cube 2D model from Overleaf (Or draw anything.)

      var tree =
        [[1,1,1,1,4,1,1,1,1],
        [1,1,1,2,2,2,1,1,1],
        [1,1,1,3,2,2,1,1,1],
        [1,2,2,2,3,2,3,2,1],
        [1,3,2,2,2,3,2,2,1],
        [2,2,3,2,3,2,2,3,2],
        [2,2,2,3,3,3,3,2,2],
        [1,1,1,2,2,2,1,1,1],
        [1,1,1,2,2,2,1,1,1]];


      //Config
      var gap = 30;
      var aniArray = [];

      //Double loop to access each element of the 2D array.
      for (var i = 0; i < tree.length; i++){
        var row = tree[i];

        for (var j = 0; j < row.length; j++){
          var cube = row[j];

          if(cube == 2){ //Number 2's are the green leaves
            c = new X.cube();
            c.center = [j * (-gap), 0 , i * (-gap)];
            c.color = [0,1,0]; //Green
            r.add(c);
          }

          else if (cube == 3) { //Number 3's are the ornaments
			c = new X.cube();
            c.center = [j * (-gap), 0 , i * (-gap)];
            c.color = [1, 1, 1]; //White (Just the beginning before the random color)
            r.add(c);
            //Add the ornaments to the aniArray for color animation later
            aniArray.push(c);
          }
          
          else if (cube == 4){ //Number 4 is the little star on top
          	c = new X.cube();
            c.center = [j * (-gap), 0 , i * (-gap)];
            c.color = [1,0.85,0]; //Gold star on top
            r.add(c);
          }
        }
      }

    //Every .5s take every element from the array of cubes that are supposed to change color and randomize the RGB using Math.random()
    setInterval(function(){
      	for(var i = 0; i < aniArray.length; i++){
      		aniArray[i].color = [Math.random(), Math.random(), Math.random()];
      	}
    }, 500);



    // Start the rendering

    r.render();

    };

    </script>
  </head>
  <body>
    <h1>CS460 Assignment 2</h1>
    <div id="logo"><img style="height:60px" src="gfx/cs460.png"></div>
  </body>
</html>