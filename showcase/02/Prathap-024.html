<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>CS460 Assignment 2</title>
    <style>
      body {
        background-color: black;
        color: white; /* font color */
        font-family: sans-serif;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden !important;
      }

      #logo {
        position: absolute;
        right: 10px;
        top: 10px;
      }
    </style>
    
    <script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script>

    <script type="text/javascript">

    window.onload = function() {

      // this gets called when the site is ready

      // create a new scene and renderer
      r = new X.renderer3D();
      r.init();
      blink = [];

      for(var i=-2;i<9;i++){
        for (var j =-2;j<9;j++)
        {
          c=new X.cube();
          c.color=[1,1,1];
          c.center=[25*i,-25*j,0];
          r.add(c);
        }
      }

      for(var i=0;i<7;i++){
        for (var j =2;j<6;j++)
        {
          c=new X.cube();
          c.color=[0.4,0,0];
          c.center=[25*i,-25*j,0];
          r.add(c);
        }
      }


      draw_row([0,0,0],1, [0.4,0,0]); 
      draw_row([6*25,0,0],1, [0.4,0,0]);
      draw_row([0,-25,0],2, [0.4,0,0]);
      draw_row([5*25,-25,0],2, [0.4,0,0]);
      draw_row([25,-25*3,0], 2, [1,1,0], true);
      draw_row([100,-25*3,0], 2, [1,1,0], true);
      draw_row([25,-25*6,0], 2, [0.4,0,0]);
      draw_row([75,-25*6,0], 1, [1,1,0]);
      draw_row([100,-25*6,0], 2, [0.4,0,0]);
      draw_row([50,-25*7,0], 3, [0.4,0,0]);

      r.camera.position = [0,0,1000];

      r.render();

      blinkoff = false;
      setInterval(function() {
        if (blinkoff) {
          // open the eyes
          for (b in blink) { 
            blink[b].color = [0.4,0,0];
          }
          blinkoff = false;
        } else {
          // blinks like eyes
          for (b in blink) { 
            blink[b].color = [1,1,0];
          }  
          blinkoff = true;
        }
        
      },500);

    };

    function draw_row(start, howmany, color, keeptrack) {

      var gap=2;

      for (var i=0; i<howmany; i++) {

        c = new X.cube();
        c.color = color;
        c.center = [start[0]+i*20+i*5, start[1], start[2]];
        r.add(c);
        if (keeptrack) {
          blink.push(c);
        }

      }

    }

    </script>
  </head>
  <body>
    <h1>CS460 Assignment 2</h1>
    <div id="logo"><img style="height:60px" src="gfx/cs460.png"></div>
  </body>
</html>